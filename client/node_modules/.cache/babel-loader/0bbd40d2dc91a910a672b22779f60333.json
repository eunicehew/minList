{"ast":null,"code":"import { userService } from \"../services/UserService\";\nimport { LOGOUT } from \"../app/store\";\nimport { getPages } from \"./Page\";\nimport { errorAlert } from \"./Alert\"; //Actions\n\nconst LOGIN_REQUEST = \"components/Home/LOGIN_REQUEST\";\nconst LOGIN_SUCCESS = \"components/Home/LOGIN_SUCCESS\";\nconst LOGIN_FAILURE = \"components/Home/LOGIN_FAILURE\"; //Reducer\n\nlet user = localStorage.getItem(\"user\");\nconst initialState = user ? {\n  loggingIn: false,\n  loggedIn: true,\n  user\n} : {\n  loggingIn: false,\n  loggedIn: false,\n  user: {}\n};\nexport default function loginReducer(state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return Object.assign({}, state, {\n        loggingIn: true\n      });\n\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        loggingIn: false,\n        loggedIn: true,\n        user: action.user\n      });\n\n    case LOGIN_FAILURE:\n      return Object.assign({}, state, {\n        loggingIn: false,\n        loggedIn: false,\n        error: action.error\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nexport function login(username, password) {\n  return dispatch => {\n    dispatch(request({\n      username\n    }));\n    userService.login(username, password).then(user => {\n      dispatch(success(user));\n      dispatch(getPages());\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n\n  function request(user) {\n    return {\n      type: LOGIN_REQUEST,\n      user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: LOGIN_SUCCESS,\n      user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: LOGIN_FAILURE,\n      error\n    };\n  }\n}\nexport function logout() {\n  return dispatch => {\n    dispatch({\n      type: LOGOUT\n    });\n  };\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/Login.js"],"names":["userService","LOGOUT","getPages","errorAlert","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","user","localStorage","getItem","initialState","loggingIn","loggedIn","loginReducer","state","action","type","Object","assign","error","login","username","password","dispatch","request","then","success","failure","toString","logout"],"mappings":"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","sourcesContent":["import { userService } from \"../services/UserService\";\nimport { LOGOUT } from \"../app/store\";\nimport { getPages } from \"./Page\";\nimport { errorAlert } from \"./Alert\";\n\n//Actions\nconst LOGIN_REQUEST = \"components/Home/LOGIN_REQUEST\";\nconst LOGIN_SUCCESS = \"components/Home/LOGIN_SUCCESS\";\nconst LOGIN_FAILURE = \"components/Home/LOGIN_FAILURE\";\n\n//Reducer\nlet user = localStorage.getItem(\"user\");\nconst initialState = user\n  ? { loggingIn: false, loggedIn: true, user }\n  : { loggingIn: false, loggedIn: false, user: {} };\n\nexport default function loginReducer(state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return Object.assign({}, state, {\n        loggingIn: true,\n      });\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        loggingIn: false,\n        loggedIn: true,\n        user: action.user,\n      });\n    case LOGIN_FAILURE:\n      return Object.assign({}, state, {\n        loggingIn: false,\n        loggedIn: false,\n        error: action.error,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nexport function login(username, password) {\n  return (dispatch) => {\n    dispatch(request({ username }));\n    userService.login(username, password).then(\n      (user) => {\n        dispatch(success(user));\n        dispatch(getPages());\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n\n  function request(user) {\n    return { type: LOGIN_REQUEST, user };\n  }\n  function success(user) {\n    return { type: LOGIN_SUCCESS, user };\n  }\n  function failure(error) {\n    return { type: LOGIN_FAILURE, error };\n  }\n}\n\nexport function logout() {\n  return (dispatch) => {\n    dispatch({ type: LOGOUT });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}