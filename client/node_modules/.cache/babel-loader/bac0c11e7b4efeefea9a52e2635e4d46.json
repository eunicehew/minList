{"ast":null,"code":"import { itemService } from \"../services/ItemService\";\nimport { getLists } from \"./List\";\nimport { successAlert, errorAlert } from \"./Alert\"; //Actions\n\nconst ITEM_REQUEST = \"components/common/ITEM_REQUEST\";\nconst ITEM_SUCCESS = \"components/common/ITEM_SUCCESS\";\nconst ITEM_FAILURE = \"components/common/ITEM_FAILURE\"; //Reducer\n\nexport default function itemReducer(state = {\n  items: []\n}, action) {\n  switch (action.type) {\n    case ITEM_REQUEST:\n      return Object.assign({}, state, {\n        loading: true\n      });\n\n    case ITEM_SUCCESS:\n      return Object.assign({}, state, {\n        items: action.items,\n        loading: false\n      });\n\n    case ITEM_FAILURE:\n      return Object.assign({}, state, {\n        error: action.error,\n        loading: false\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nfunction failure(error) {\n  return {\n    type: ITEM_FAILURE,\n    error\n  };\n}\n\nexport function getItems(listId) {\n  return dispatch => {\n    dispatch({\n      type: ITEM_REQUEST\n    });\n    itemService.getItems(listId).then(items => {\n      dispatch({\n        type: ITEM_SUCCESS,\n        items\n      });\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n}\nexport function moveItem(body, sheetId) {\n  console.log(body);\n  return dispatch => {\n    itemService.moveItem(body).then(() => {\n      dispatch(getLists(sheetId));\n      dispatch(successAlert(\"Successfully moved item\"));\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n}\n\nfunction _handleAction(apiCall, body, action) {\n  return dispatch => {\n    dispatch({\n      type: ITEM_REQUEST\n    });\n    apiCall(body).then(items => {\n      // console.log(items);\n      dispatch(successAlert(\"Successfully\" + action + \"item\"));\n      dispatch(getLists(body.sheetId));\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n}\n\nexport function addItem(body) {\n  return _handleAction(itemService.create, body, \"added\");\n}\nexport function deleteItem(body) {\n  return _handleAction(itemService.deleteItem, body, \"deleted\");\n}\nexport function updateItem(body) {\n  return _handleAction(itemService.update, body, \"updated\");\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/Item.js"],"names":["itemService","getLists","successAlert","errorAlert","ITEM_REQUEST","ITEM_SUCCESS","ITEM_FAILURE","itemReducer","state","items","action","type","Object","assign","loading","error","failure","getItems","listId","dispatch","then","toString","moveItem","body","sheetId","console","log","_handleAction","apiCall","addItem","create","deleteItem","updateItem","update"],"mappings":"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","sourcesContent":["import { itemService } from \"../services/ItemService\";\nimport { getLists } from \"./List\";\nimport { successAlert, errorAlert } from \"./Alert\";\n\n//Actions\nconst ITEM_REQUEST = \"components/common/ITEM_REQUEST\";\nconst ITEM_SUCCESS = \"components/common/ITEM_SUCCESS\";\nconst ITEM_FAILURE = \"components/common/ITEM_FAILURE\";\n\n//Reducer\nexport default function itemReducer(state = { items: [] }, action) {\n  switch (action.type) {\n    case ITEM_REQUEST:\n      return Object.assign({}, state, {\n        loading: true,\n      });\n    case ITEM_SUCCESS:\n      return Object.assign({}, state, {\n        items: action.items,\n        loading: false,\n      });\n    case ITEM_FAILURE:\n      return Object.assign({}, state, {\n        error: action.error,\n        loading: false,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nfunction failure(error) {\n  return { type: ITEM_FAILURE, error };\n}\n\nexport function getItems(listId) {\n  return (dispatch) => {\n    dispatch({ type: ITEM_REQUEST });\n    itemService.getItems(listId).then(\n      (items) => {\n        dispatch({ type: ITEM_SUCCESS, items });\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n}\n\nexport function moveItem(body, sheetId) {\n  console.log(body);\n  return (dispatch) => {\n    itemService.moveItem(body).then(\n      () => {\n        dispatch(getLists(sheetId));\n        dispatch(successAlert(\"Successfully moved item\"));\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n}\n\nfunction _handleAction(apiCall, body, action) {\n  return (dispatch) => {\n    dispatch({ type: ITEM_REQUEST });\n    apiCall(body).then(\n      (items) => {\n        // console.log(items);\n        dispatch(successAlert(\"Successfully\" + action + \"item\"));\n        dispatch(getLists(body.sheetId));\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n}\n\nexport function addItem(body) {\n  return _handleAction(itemService.create, body, \"added\");\n}\nexport function deleteItem(body) {\n  return _handleAction(itemService.deleteItem, body, \"deleted\");\n}\nexport function updateItem(body) {\n  return _handleAction(itemService.update, body, \"updated\");\n}\n"]},"metadata":{},"sourceType":"module"}