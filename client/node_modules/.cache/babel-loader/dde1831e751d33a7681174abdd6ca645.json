{"ast":null,"code":"var _jsxFileName = \"/Users/Eunice/Documents/my-app/client/src/services/UserService.js\";\n// import config from \"config\";\nimport axios from \"axios\";\nimport { handleResponse } from \"./ServiceHelpers\";\nimport { Redirect } from \"react-router-dom\";\nexport const userService = {\n  login,\n  logout,\n  register,\n  getAll,\n  getById,\n  update,\n  delete: _delete\n};\nconst requestOptions = {\n  headers: {\n    \"Content-Type\": \"application/json\"\n  } // headers: { ...authHeader(), \"Content-Type\": \"application/json\" },\n\n};\n\nfunction login(username, password) {\n  console.log(\"login\");\n  return axios.post(\"/users/authenticate\", {\n    username,\n    password\n  }).then(handleResponse).then(data => {\n    const user = data.username;\n    const token = data.token;\n    localStorage.setItem(\"user\", user);\n    localStorage.setItem(\"token\", token);\n    return {\n      user,\n      token\n    };\n  });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n\n  /*#__PURE__*/\n  React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  });\n}\n\nfunction getAll() {\n  return fetch(`/users/`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n  return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(username, password) {\n  return axios.post(`/users/register`, {\n    username,\n    password\n  }).then(handleResponse);\n}\n\nfunction update(user) {\n  return fetch(`/users/${user.id}`, requestOptions).then(handleResponse);\n}\n\nfunction _delete(id) {\n  return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/services/UserService.js"],"names":["axios","handleResponse","Redirect","userService","login","logout","register","getAll","getById","update","delete","_delete","requestOptions","headers","username","password","console","log","post","then","data","user","token","localStorage","setItem","removeItem","fetch","id"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,WAAW,GAAG;AACzBC,EAAAA,KADyB;AAEzBC,EAAAA,MAFyB;AAGzBC,EAAAA,QAHyB;AAIzBC,EAAAA,MAJyB;AAKzBC,EAAAA,OALyB;AAMzBC,EAAAA,MANyB;AAOzBC,EAAAA,MAAM,EAAEC;AAPiB,CAApB;AAUP,MAAMC,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB,GADY,CAErB;;AAFqB,CAAvB;;AAKA,SAAST,KAAT,CAAeU,QAAf,EAAyBC,QAAzB,EAAmC;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAOjB,KAAK,CACTkB,IADI,CACC,qBADD,EACwB;AAAEJ,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GADxB,EAEJI,IAFI,CAEClB,cAFD,EAGJkB,IAHI,CAGEC,IAAD,IAAU;AACd,UAAMC,IAAI,GAAGD,IAAI,CAACN,QAAlB;AACA,UAAMQ,KAAK,GAAGF,IAAI,CAACE,KAAnB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,IAA7B;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AACA,WAAO;AAAED,MAAAA,IAAF;AAAQC,MAAAA;AAAR,KAAP;AACD,GATI,CAAP;AAUD;;AAED,SAASjB,MAAT,GAAkB;AAChBkB,EAAAA,YAAY,CAACE,UAAb,CAAwB,MAAxB;AACAF,EAAAA,YAAY,CAACE,UAAb,CAAwB,OAAxB;;AACA;AAAA,sBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD;;AAED,SAASlB,MAAT,GAAkB;AAChB,SAAOmB,KAAK,CAAE,SAAF,EAAYd,cAAZ,CAAL,CAAiCO,IAAjC,CAAsClB,cAAtC,CAAP;AACD;;AAED,SAASO,OAAT,CAAiBmB,EAAjB,EAAqB;AACnB,SAAOD,KAAK,CAAE,UAASC,EAAG,EAAd,EAAiBf,cAAjB,CAAL,CAAsCO,IAAtC,CAA2ClB,cAA3C,CAAP;AACD;;AAED,SAASK,QAAT,CAAkBQ,QAAlB,EAA4BC,QAA5B,EAAsC;AACpC,SAAOf,KAAK,CACTkB,IADI,CACE,iBADF,EACoB;AAAEJ,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GADpB,EAEJI,IAFI,CAEClB,cAFD,CAAP;AAGD;;AAED,SAASQ,MAAT,CAAgBY,IAAhB,EAAsB;AACpB,SAAOK,KAAK,CAAE,UAASL,IAAI,CAACM,EAAG,EAAnB,EAAsBf,cAAtB,CAAL,CAA2CO,IAA3C,CAAgDlB,cAAhD,CAAP;AACD;;AAED,SAASU,OAAT,CAAiBgB,EAAjB,EAAqB;AACnB,SAAOD,KAAK,CAAE,UAASC,EAAG,EAAd,EAAiBf,cAAjB,CAAL,CAAsCO,IAAtC,CAA2ClB,cAA3C,CAAP;AACD","sourcesContent":["// import config from \"config\";\nimport axios from \"axios\";\nimport { handleResponse } from \"./ServiceHelpers\";\nimport { Redirect } from \"react-router-dom\";\n\nexport const userService = {\n  login,\n  logout,\n  register,\n  getAll,\n  getById,\n  update,\n  delete: _delete,\n};\n\nconst requestOptions = {\n  headers: { \"Content-Type\": \"application/json\" },\n  // headers: { ...authHeader(), \"Content-Type\": \"application/json\" },\n};\n\nfunction login(username, password) {\n  console.log(\"login\");\n  return axios\n    .post(\"/users/authenticate\", { username, password })\n    .then(handleResponse)\n    .then((data) => {\n      const user = data.username;\n      const token = data.token;\n      localStorage.setItem(\"user\", user);\n      localStorage.setItem(\"token\", token);\n      return { user, token };\n    });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n  <Redirect to=\"/\" />;\n}\n\nfunction getAll() {\n  return fetch(`/users/`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n  return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(username, password) {\n  return axios\n    .post(`/users/register`, { username, password })\n    .then(handleResponse);\n}\n\nfunction update(user) {\n  return fetch(`/users/${user.id}`, requestOptions).then(handleResponse);\n}\n\nfunction _delete(id) {\n  return fetch(`/users/${id}`, requestOptions).then(handleResponse);\n}\n"]},"metadata":{},"sourceType":"module"}