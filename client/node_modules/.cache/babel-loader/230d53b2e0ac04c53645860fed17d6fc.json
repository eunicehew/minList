{"ast":null,"code":"var _jsxFileName = \"/Users/Eunice/Documents/my-app/client/src/app/App.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport \"./App.css\";\nimport Page from \"../components/common/Page\";\nimport { NavBar } from \"../components/navBar\";\nimport Alert from \"../components/common/Alert\";\nimport { clearAlert } from \"../redux/Alert\";\n\nconst renderMergedProps = (component, ...rest) => {\n  const finalProps = Object.assign({}, ...rest);\n  return React.createElement(component, finalProps);\n};\n\nconst PrivateRoute = ({\n  component,\n  ...rest\n}) => {\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: props => localStorage.getItem(\"user\") ? renderMergedProps(component, props, rest) : /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/\",\n        state: {\n          from: props.location\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }));\n};\n\nconst App = ({ ...props\n}) => {\n  const theme = createMuiTheme({\n    palette: {\n      type: props.theme,\n      primary: {\n        main: props.theme === 'light' ? lightBlue[500] : orange[500]\n      },\n      secondary: {\n        main: props.theme === 'light' ? deepPurple[500] : deepOrange[900]\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), props.alertMessage && /*#__PURE__*/React.createElement(Alert, {\n    type: props.alertType,\n    message: props.alertMessage,\n    clearAlert: props.clearAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), props.pages ? props.pages.map(page => {\n    return /*#__PURE__*/React.createElement(PrivateRoute, {\n      exact: true,\n      key: page._id,\n      path: `/${page.name}`,\n      component: Page,\n      pageId: page._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    });\n  }) : null, /*#__PURE__*/React.createElement(Redirect, {\n    from: \"*\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  })))));\n};\n\nApp.propTypes = {\n  alertMessage: PropTypes.string,\n  alertType: PropTypes.string,\n  clearAlert: PropTypes.func,\n  pages: PropTypes.arrayOf(PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    sheets: PropTypes.array.isRequired,\n    items: PropTypes.array.isRequired\n  })).isRequired,\n  user: PropTypes.object.isRequired,\n  theme: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => {\n  // console.log(state.alertState);\n  return {\n    user: state.loginState.user,\n    pages: state.pageState.pages,\n    alertType: state.alertState.type,\n    alertMessage: state.alertState.message,\n    theme: state.uiState.theme\n  };\n};\n\nconst mapDispatchToProps = {\n  clearAlert\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/app/App.js"],"names":["React","PropTypes","connect","BrowserRouter","Route","Switch","Redirect","createMuiTheme","ThemeProvider","CssBaseline","Page","NavBar","Alert","clearAlert","renderMergedProps","component","rest","finalProps","Object","assign","createElement","PrivateRoute","props","localStorage","getItem","pathname","state","from","location","App","theme","palette","type","primary","main","lightBlue","orange","secondary","deepPurple","deepOrange","alertMessage","alertType","pages","map","page","_id","name","propTypes","string","func","arrayOf","shape","isRequired","sheets","array","items","user","object","bool","mapStateToProps","loginState","pageState","alertState","message","uiState","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport \"./App.css\";\r\nimport Page from \"../components/common/Page\";\r\nimport { NavBar } from \"../components/navBar\";\r\nimport Alert from \"../components/common/Alert\";\r\nimport { clearAlert } from \"../redux/Alert\";\r\n\r\n\r\nconst renderMergedProps = (component, ...rest) => {\r\n  const finalProps = Object.assign({}, ...rest);\r\n  return React.createElement(component, finalProps);\r\n};\r\n\r\nconst PrivateRoute = ({ component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        localStorage.getItem(\"user\") ? (\r\n          renderMergedProps(component, props, rest)\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst App = ({ ...props }) => {\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      type: props.theme,\r\n      primary: {main: props.theme === 'light' ? lightBlue[500] : orange[500]},\r\n      secondary: {main: props.theme === 'light' ? deepPurple[500] : deepOrange[900]},\r\n  \r\n    },\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <NavBar />\r\n        {props.alertMessage && (\r\n          <Alert\r\n            type={props.alertType}\r\n            message={props.alertMessage}\r\n            clearAlert={props.clearAlert}\r\n          />\r\n        )}\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Page} />\r\n          {props.pages\r\n            ? props.pages.map((page) => {\r\n                return (\r\n                  <PrivateRoute\r\n                    exact\r\n                    key={page._id}\r\n                    path={`/${page.name}`}\r\n                    component={Page}\r\n                    pageId={page._id}\r\n                  />\r\n                );\r\n              })\r\n            : null}\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div></ThemeProvider>\r\n  );\r\n};\r\n\r\nApp.propTypes = {\r\n  alertMessage: PropTypes.string,\r\n  alertType: PropTypes.string,\r\n  clearAlert: PropTypes.func,\r\n  pages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      _id: PropTypes.string.isRequired,\r\n      name: PropTypes.string.isRequired,\r\n      sheets: PropTypes.array.isRequired,\r\n      items: PropTypes.array.isRequired,\r\n    })\r\n  ).isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  theme: PropTypes.bool.isRequired,\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // console.log(state.alertState);\r\n  return {\r\n    user: state.loginState.user,\r\n    pages: state.pageState.pages,\r\n    alertType: state.alertState.type,\r\n    alertMessage: state.alertState.message,\r\n    theme:state.uiState.theme\r\n\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  clearAlert,\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n"]},"metadata":{},"sourceType":"module"}