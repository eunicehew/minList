{"ast":null,"code":"import { pageService } from \"../services/PageService\";\nimport { getItems } from \"./Item\"; //Actions\n\nconst LIST_REQUEST = \"components/common/LIST_REQUEST\";\nconst LIST_SUCCESS = \"components/common/LIST_SUCCESS\";\nconst LIST_FAILURE = \"components/common/LIST_FAILURE\"; //Reducer\n\nexport default function listReducer(state = {}, action) {\n  switch (action.type) {\n    case LIST_REQUEST:\n      return Object.assign({}, state, {\n        gettingLists: true\n      });\n\n    case LIST_SUCCESS:\n      return Object.assign({}, state, {\n        lists: action.lists\n      });\n\n    case LIST_FAILURE:\n      return Object.assign({}, state, {\n        error: true\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nexport function getLists(sheetId) {\n  return dispatch => {\n    dispatch(request());\n    pageService.getSheets(sheetId).then(lists => {\n      console.log(lists);\n      dispatch(success(lists)); // if (lists && lists.length > 0) {\n      //   dispatch(getItems(lists[0]._id));\n      // }\n    }, error => {\n      dispatch(failure(error.toString())); // dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request() {\n    return {\n      type: LIST_REQUEST\n    };\n  }\n\n  function success(lists) {\n    return {\n      type: LIST_SUCCESS,\n      lists\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: LIST_FAILURE,\n      error\n    };\n  }\n}\n\nfunction _handleAction(apiCall, body) {\n  return dispatch => {\n    dispatch({\n      type: LIST_REQUEST\n    });\n    apiCall(body).then(lists => {\n      console.log(lists); // dispatch({ type: PAGE_SUCCESS, pages });\n\n      dispatch(getLists(body.pageId));\n    }, error => {\n      dispatch({\n        type: LIST_FAILURE,\n        error\n      });\n    });\n  };\n} //sheet functions double for lists\n\n\nexport function addList(body) {\n  return _handleAction(pageService.createSheet, body);\n}\nexport function deleteList(body) {\n  return _handleAction(pageService.deleteList, body);\n}\nexport function updateList(body) {\n  return _handleAction(pageService.update, body);\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/List.js"],"names":["pageService","getItems","LIST_REQUEST","LIST_SUCCESS","LIST_FAILURE","listReducer","state","action","type","Object","assign","gettingLists","lists","error","getLists","sheetId","dispatch","request","getSheets","then","console","log","success","failure","toString","_handleAction","apiCall","body","pageId","addList","createSheet","deleteList","updateList","update"],"mappings":"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","sourcesContent":["import { pageService } from \"../services/PageService\";\nimport { getItems } from \"./Item\";\n\n//Actions\nconst LIST_REQUEST = \"components/common/LIST_REQUEST\";\nconst LIST_SUCCESS = \"components/common/LIST_SUCCESS\";\nconst LIST_FAILURE = \"components/common/LIST_FAILURE\";\n\n//Reducer\nexport default function listReducer(state = {}, action) {\n  switch (action.type) {\n    case LIST_REQUEST:\n      return Object.assign({}, state, {\n        gettingLists: true,\n      });\n    case LIST_SUCCESS:\n      return Object.assign({}, state, {\n        lists: action.lists,\n      });\n    case LIST_FAILURE:\n      return Object.assign({}, state, {\n        error: true,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nexport function getLists(sheetId) {\n  return (dispatch) => {\n    dispatch(request());\n    pageService.getSheets(sheetId).then(\n      (lists) => {\n        console.log(lists);\n        dispatch(success(lists));\n        // if (lists && lists.length > 0) {\n        //   dispatch(getItems(lists[0]._id));\n        // }\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        // dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request() {\n    return { type: LIST_REQUEST };\n  }\n  function success(lists) {\n    return { type: LIST_SUCCESS, lists };\n  }\n  function failure(error) {\n    return { type: LIST_FAILURE, error };\n  }\n}\n\nfunction _handleAction(apiCall, body) {\n  return (dispatch) => {\n    dispatch({ type: LIST_REQUEST });\n    apiCall(body).then(\n      (lists) => {\n        console.log(lists);\n        // dispatch({ type: PAGE_SUCCESS, pages });\n        dispatch(getLists(body.pageId));\n      },\n      (error) => {\n        dispatch({ type: LIST_FAILURE, error });\n      }\n    );\n  };\n}\n\n//sheet functions double for lists\nexport function addList(body) {\n  return _handleAction(pageService.createSheet, body);\n}\nexport function deleteList(body) {\n  return _handleAction(pageService.deleteList, body);\n}\nexport function updateList(body) {\n  return _handleAction(pageService.update, body);\n}\n"]},"metadata":{},"sourceType":"module"}