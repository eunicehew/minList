{"ast":null,"code":"import axios from \"axios\"; // export function setToken(token) {\n//   console.log(token);\n//   axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n// }\n\nexport function authHeader() {\n  // return authorization header with jwt token\n  let user = localStorage.getItem(\"user\");\n  let token = localStorage.getItem(\"token\");\n\n  if (user && token) {\n    return {\n      Authorization: \"Bearer \" + token\n    };\n  } else {\n    return {};\n  }\n}\nexport function handleResponse(response) {\n  if (response.status !== 200) {\n    if (response.status === 401) {\n      // auto logout if 401 response returned from api\n      logout();\n      console.log(\"BAD\"); // location.reload(true);\n    } // const error = (response && data.message) || response.statusText;\n\n\n    console.log(\"error\"); // return Promise.reject(error);\n  }\n\n  console.log(response);\n  return response.data;\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/services/ServiceHelpers.js"],"names":["axios","authHeader","user","localStorage","getItem","token","Authorization","handleResponse","response","status","logout","console","log","data","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,UAAT,GAAsB;AAC3B;AACA,MAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;AACA,MAAIC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AAEA,MAAIF,IAAI,IAAIG,KAAZ,EAAmB;AACjB,WAAO;AAAEC,MAAAA,aAAa,EAAE,YAAYD;AAA7B,KAAP;AACD,GAFD,MAEO;AACL,WAAO,EAAP;AACD;AACF;AAED,OAAO,SAASE,cAAT,CAAwBC,QAAxB,EAAkC;AACvC,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,QAAID,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B;AACAC,MAAAA,MAAM;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAH2B,CAI3B;AACD,KAN0B,CAQ3B;;;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAT2B,CAU3B;AACD;;AACDD,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,SAAOA,QAAQ,CAACK,IAAhB;AACD;;AAED,SAASH,MAAT,GAAkB;AAChB;AACAP,EAAAA,YAAY,CAACW,UAAb,CAAwB,MAAxB;AACAX,EAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACD","sourcesContent":["import axios from \"axios\";\n\n// export function setToken(token) {\n//   console.log(token);\n//   axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n// }\n\nexport function authHeader() {\n  // return authorization header with jwt token\n  let user = localStorage.getItem(\"user\");\n  let token = localStorage.getItem(\"token\");\n\n  if (user && token) {\n    return { Authorization: \"Bearer \" + token };\n  } else {\n    return {};\n  }\n}\n\nexport function handleResponse(response) {\n  if (response.status !== 200) {\n    if (response.status === 401) {\n      // auto logout if 401 response returned from api\n      logout();\n      console.log(\"BAD\");\n      // location.reload(true);\n    }\n\n    // const error = (response && data.message) || response.statusText;\n    console.log(\"error\");\n    // return Promise.reject(error);\n  }\n  console.log(response);\n  return response.data;\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n}\n"]},"metadata":{},"sourceType":"module"}