{"ast":null,"code":"import axios from \"axios\";\nexport function setToken(token) {\n  console.log(token);\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  return token;\n} // export function authHeader() {\n//   // return authorization header with jwt token\n//   let user = localStorage.getItem(\"user\");\n//   let token = localStorage.getItem(\"token\");\n//   if (user && token) {\n//     return { Authorization: \"Bearer \" + token };\n//   } else {\n//     return {};\n//   }\n// }\n\nexport function handleResponse(response) {\n  if (response.status !== 200) {\n    if (response.status === 401) {\n      // auto logout if 401 response returned from api\n      logout();\n      console.log(\"BAD\"); // location.reload(true);\n    } // const error = (response && data.message) || response.statusText;\n\n\n    console.log(\"error\"); // return Promise.reject(error);\n  }\n\n  console.log(response);\n  return response.data;\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/services/ServiceHelpers.js"],"names":["axios","setToken","token","console","log","defaults","headers","common","handleResponse","response","status","logout","data","localStorage","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAF,EAAAA,KAAK,CAACK,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASL,KAAM,EAAjE;AACA,SAAOA,KAAP;AACD,C,CAED;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASM,cAAT,CAAwBC,QAAxB,EAAkC;AACvC,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,QAAID,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B;AACAC,MAAAA,MAAM;AACNR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAH2B,CAI3B;AACD,KAN0B,CAQ3B;;;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAT2B,CAU3B;AACD;;AACDD,EAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACA,SAAOA,QAAQ,CAACG,IAAhB;AACD;;AAED,SAASD,MAAT,GAAkB;AAChB;AACAE,EAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAD,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACD","sourcesContent":["import axios from \"axios\";\n\nexport function setToken(token) {\n  console.log(token);\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  return token;\n}\n\n// export function authHeader() {\n//   // return authorization header with jwt token\n//   let user = localStorage.getItem(\"user\");\n//   let token = localStorage.getItem(\"token\");\n\n//   if (user && token) {\n//     return { Authorization: \"Bearer \" + token };\n//   } else {\n//     return {};\n//   }\n// }\n\nexport function handleResponse(response) {\n  if (response.status !== 200) {\n    if (response.status === 401) {\n      // auto logout if 401 response returned from api\n      logout();\n      console.log(\"BAD\");\n      // location.reload(true);\n    }\n\n    // const error = (response && data.message) || response.statusText;\n    console.log(\"error\");\n    // return Promise.reject(error);\n  }\n  console.log(response);\n  return response.data;\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem(\"user\");\n  localStorage.removeItem(\"token\");\n}\n"]},"metadata":{},"sourceType":"module"}