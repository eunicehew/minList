{"ast":null,"code":"var _jsxFileName = \"/Users/Eunice/Documents/my-app/client/src/components/common/List/List.js\";\nimport React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { DraggableListItem, ListItemButtons } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { itemService } from \"../../../services/ItemService\"; // const ListCard = ({ isDraggable, listId, addItem, deleteItem, ...rest }) => {\n//   const onDragOver = (event) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"lightgray\";\n//     // event.currentTarget.style.cursor = \"grabbing\";\n//   };\n//   const onDrop = (event, listId, addItem, deleteItem) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"\";\n//     // event.currentTarget.style.cursor = \"default\";\n//     let itemId = event.dataTransfer.getData(\"item\");\n//     let selectedItem = this.props.items.find((i) => i._id === itemId);\n//     if (listId !== event.target._id) {\n//       //get id of new list\n//       //THIS IS DEFINITELY WRONG--UPDATE WHEN WE GET TO DOING ITEMS\n//       const oldList = { listId: listId, ...selectedItem };\n//       const newList = { listId: event.target._id, ...selectedItem };\n//       addItem(newList);\n//       deleteItem(oldList);\n//     }\n//   };\n//   const onDragLeave = (event) => {\n//     event.currentTarget.style.background = \"\";\n//   };\n//   return isDraggable ? (\n//     <Card\n//       onDragOver={(event) => onDragOver(event)}\n//       onDrop={(event) => onDrop(event, listId, addItem, deleteItem)}\n//       onDragLeave={(event) => onDragLeave(event)}\n//       style={{ height: \"30vw\", width: \"30vw\" }}\n//     >\n//       {rest}\n//     </Card>\n//   ) : (\n//     <Card style={{ height: \"30vw\", width: \"30vw\" }}>{rest}</Card>\n//   );\n// };\n\nconst DraggableList = ({\n  isDraggable,\n  sheetId,\n  listId,\n  header,\n  items,\n  deleteList,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem\n}) => {\n  let bottomItem = 0;\n\n  function setBottomItem(newItem) {\n    bottomItem = newItem;\n  }\n\n  const onDragOver = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\"; // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = (event, listId, items, moveItem, sheetId, bottomItem) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\"; // event.currentTarget.style.cursor = \"default\";\n\n    let itemId = event.dataTransfer.getData(\"item\");\n    console.log(itemId);\n    console.log(bottomItem);\n    let index = bottomItem !== items.length && bottomItem !== 0 && items.findIndex(i => i._id === bottomItem) !== -1 ? items.findIndex(i => i._id === bottomItem) : bottomItem;\n    console.log(index);\n    let body = {\n      listId,\n      index,\n      itemId\n    };\n    moveItem(body, sheetId);\n  };\n\n  const onDragLeave = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item, bottomItem, setBottomItem) => {\n    console.log(item);\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n\n    if (item !== bottomItem) {\n      bottomItem = item;\n      setBottomItem(item);\n      console.log(\"set\" + item);\n    }\n  };\n\n  const onDragLeaveItem = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    onDragOver: event => onDragOver(event),\n    onDrop: event => onDrop(event, listId, items, moveItem, sheetId, bottomItem),\n    onDragLeave: event => onDragLeave(event),\n    style: {\n      height: \"30vw\",\n      width: \"30vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    action: /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      \"aria-label\": \"delete\",\n      onClick: () => deleteList({\n        listId,\n        pageId: sheetId\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    onDrop: event => onDropItem(event, 0, bottomItem, setBottomItem),\n    style: {\n      margin: \"10px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, header)), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, items && items.length > 0 ? items.map(item => {\n    return /*#__PURE__*/React.createElement(DraggableListItem, {\n      key: item._id,\n      isDraggable: true // isDraggable={isDraggable || false}\n      ,\n      item: item,\n      onDragOver: event => onDragOverItem(event),\n      onDrop: event => onDropItem(event, item._id, bottomItem, setBottomItem),\n      onDragLeave: event => onDragLeaveItem(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Divider, {\n      orientation: \"vertical\",\n      flexItem: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      edge: \"end\",\n      \"aria-label\": \"delete\",\n      onClick: () => deleteItem({\n        listId,\n        itemId: item._id,\n        sheetId\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    })));\n  }) : /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, \"No items \"))), /*#__PURE__*/React.createElement(CardActions, {\n    onDrop: event => onDropItem(event, items.length, bottomItem, setBottomItem),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddDialog, {\n    header: \"Add Item\",\n    fields: {\n      \"Item Name\": \"name\"\n    } // specialFields={[\n    //   (changeFunction) => {\n    //     return (\n    //       <TextField\n    //         margin=\"dense\"\n    //         key=\"Description\"\n    //         id=\"details\"\n    //         label=\"Description\"\n    //         fullWidth\n    //         multiline\n    //         required\n    //         type=\"text\"\n    //         onChange={changeFunction}\n    //       />\n    //     );\n    //   },\n    // ]}\n    ,\n    addFunction: addItem,\n    body: {\n      listId: listId,\n      sheetId: sheetId\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport { DraggableList };","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/components/common/List/List.js"],"names":["React","Card","CardHeader","CardContent","CardActions","List","ListItemText","DraggableListItem","ListItemButtons","AddDialog","DeleteIcon","IconButton","Divider","CloseIcon","TextField","itemService","DraggableList","isDraggable","sheetId","listId","header","items","deleteList","moveItem","addItem","editItem","deleteItem","bottomItem","setBottomItem","newItem","onDragOver","event","preventDefault","currentTarget","style","background","onDrop","itemId","dataTransfer","getData","console","log","index","length","findIndex","i","_id","body","onDragLeave","onDragOverItem","onDropItem","item","onDragLeaveItem","height","width","pageId","margin","map","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,SAASC,iBAAT,EAA4BC,eAA5B,QAAmD,aAAnD;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,WAAT,QAA4B,+BAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,aAAa,GAAG,CAAC;AACrBC,EAAAA,WADqB;AAErBC,EAAAA,OAFqB;AAGrBC,EAAAA,MAHqB;AAIrBC,EAAAA,MAJqB;AAKrBC,EAAAA,KALqB;AAMrBC,EAAAA,UANqB;AAOrBC,EAAAA,QAPqB;AAQrBC,EAAAA,OARqB;AASrBC,EAAAA,QATqB;AAUrBC,EAAAA;AAVqB,CAAD,KAWhB;AACJ,MAAIC,UAAU,GAAG,CAAjB;;AAEA,WAASC,aAAT,CAAuBC,OAAvB,EAAgC;AAC9BF,IAAAA,UAAU,GAAGE,OAAb;AACD;;AAED,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,WAAvC,CAF4B,CAG5B;AACD,GAJD;;AAMA,QAAMC,MAAM,GAAG,CAACL,KAAD,EAAQZ,MAAR,EAAgBE,KAAhB,EAAuBE,QAAvB,EAAiCL,OAAjC,EAA0CS,UAA1C,KAAyD;AACtEI,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC,CAFsE,CAGtE;;AACA,QAAIE,MAAM,GAAGN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2B,MAA3B,CAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;AACA,QAAIe,KAAK,GACPf,UAAU,KAAKN,KAAK,CAACsB,MAArB,IACAhB,UAAU,KAAK,CADf,IAEAN,KAAK,CAACuB,SAAN,CAAiBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUnB,UAAjC,MAAiD,CAAC,CAFlD,GAGIN,KAAK,CAACuB,SAAN,CAAiBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUnB,UAAjC,CAHJ,GAIIA,UALN;AAMAa,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,QAAIK,IAAI,GAAG;AAAE5B,MAAAA,MAAF;AAAUuB,MAAAA,KAAV;AAAiBL,MAAAA;AAAjB,KAAX;AACAd,IAAAA,QAAQ,CAACwB,IAAD,EAAO7B,OAAP,CAAR;AACD,GAhBD;;AAkBA,QAAM8B,WAAW,GAAIjB,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;AACD,GAFD;;AAIA,QAAMc,cAAc,GAAIlB,KAAD,IAAW;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,WAAvC;AACD,GAHD;;AAKA,QAAMe,UAAU,GAAG,CAACnB,KAAD,EAAQoB,IAAR,EAAcxB,UAAd,EAA0BC,aAA1B,KAA4C;AAC7DY,IAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACApB,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;;AACA,QAAIgB,IAAI,KAAKxB,UAAb,EAAyB;AACvBA,MAAAA,UAAU,GAAGwB,IAAb;AACAvB,MAAAA,aAAa,CAACuB,IAAD,CAAb;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAQU,IAApB;AACD;AACF,GATD;;AAWA,QAAMC,eAAe,GAAIrB,KAAD,IAAW;AACjCA,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;AACD,GAFD;;AAIA,sBACE,oBAAC,IAAD;AACE,IAAA,UAAU,EAAGJ,KAAD,IAAWD,UAAU,CAACC,KAAD,CADnC;AAEE,IAAA,MAAM,EAAGA,KAAD,IACNK,MAAM,CAACL,KAAD,EAAQZ,MAAR,EAAgBE,KAAhB,EAAuBE,QAAvB,EAAiCL,OAAjC,EAA0CS,UAA1C,CAHV;AAKE,IAAA,WAAW,EAAGI,KAAD,IAAWiB,WAAW,CAACjB,KAAD,CALrC;AAME,IAAA,KAAK,EAAE;AAAEsB,MAAAA,MAAM,EAAE,MAAV;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAcE,oBAAC,UAAD;AACE,IAAA,MAAM,eACJ,oBAAC,UAAD;AACE,MAAA,IAAI,EAAC,KADP;AAEE,oBAAW,QAFb;AAGE,MAAA,OAAO,EAAE,MAAMhC,UAAU,CAAC;AAAEH,QAAAA,MAAF;AAAUoC,QAAAA,MAAM,EAAErC;AAAlB,OAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWE;AACE,IAAA,MAAM,EAAGa,KAAD,IAAWmB,UAAU,CAACnB,KAAD,EAAQ,CAAR,EAAWJ,UAAX,EAAuBC,aAAvB,CAD/B;AAEE,IAAA,KAAK,EAAE;AAAE4B,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGpC,MAJH,CAXF,CAdF,eAgCE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,KAAK,IAAIA,KAAK,CAACsB,MAAN,GAAe,CAAxB,GACCtB,KAAK,CAACoC,GAAN,CAAWN,IAAD,IAAU;AAClB,wBACE,oBAAC,iBAAD;AACE,MAAA,GAAG,EAAEA,IAAI,CAACL,GADZ;AAEE,MAAA,WAAW,MAFb,CAGE;AAHF;AAIE,MAAA,IAAI,EAAEK,IAJR;AAKE,MAAA,UAAU,EAAGpB,KAAD,IAAWkB,cAAc,CAAClB,KAAD,CALvC;AAME,MAAA,MAAM,EAAGA,KAAD,IACNmB,UAAU,CAACnB,KAAD,EAAQoB,IAAI,CAACL,GAAb,EAAkBnB,UAAlB,EAA8BC,aAA9B,CAPd;AASE,MAAA,WAAW,EAAGG,KAAD,IAAWqB,eAAe,CAACrB,KAAD,CATzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEoB,IAAI,CAACO,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAYE,oBAAC,OAAD;AAAS,MAAA,WAAW,EAAC,UAArB;AAAgC,MAAA,QAAQ,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,eAaE,oBAAC,UAAD;AACE,MAAA,IAAI,EAAC,KADP;AAEE,oBAAW,QAFb;AAGE,MAAA,OAAO,EAAE,MACPhC,UAAU,CAAC;AAAEP,QAAAA,MAAF;AAAUkB,QAAAA,MAAM,EAAEc,IAAI,CAACL,GAAvB;AAA4B5B,QAAAA;AAA5B,OAAD,CAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAbF,CADF;AAyBD,GA1BD,CADD,gBA6BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA9BJ,CADF,CAhCF,eAmEE,oBAAC,WAAD;AACE,IAAA,MAAM,EAAGa,KAAD,IACNmB,UAAU,CAACnB,KAAD,EAAQV,KAAK,CAACsB,MAAd,EAAsBhB,UAAtB,EAAkCC,aAAlC,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAC,UADT;AAEE,IAAA,MAAM,EAAE;AAAE,mBAAa;AAAf,KAFV,CAGE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBF;AAoBE,IAAA,WAAW,EAAEJ,OApBf;AAqBE,IAAA,IAAI,EAAE;AAAEL,MAAAA,MAAM,EAAEA,MAAV;AAAkBD,MAAAA,OAAO,EAAEA;AAA3B,KArBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAnEF,CADF;AAoGD,CAtKD;;AAwKA,SAASF,aAAT","sourcesContent":["import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { DraggableListItem, ListItemButtons } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { itemService } from \"../../../services/ItemService\";\n\n// const ListCard = ({ isDraggable, listId, addItem, deleteItem, ...rest }) => {\n//   const onDragOver = (event) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"lightgray\";\n//     // event.currentTarget.style.cursor = \"grabbing\";\n//   };\n//   const onDrop = (event, listId, addItem, deleteItem) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"\";\n//     // event.currentTarget.style.cursor = \"default\";\n//     let itemId = event.dataTransfer.getData(\"item\");\n//     let selectedItem = this.props.items.find((i) => i._id === itemId);\n//     if (listId !== event.target._id) {\n//       //get id of new list\n//       //THIS IS DEFINITELY WRONG--UPDATE WHEN WE GET TO DOING ITEMS\n//       const oldList = { listId: listId, ...selectedItem };\n//       const newList = { listId: event.target._id, ...selectedItem };\n//       addItem(newList);\n//       deleteItem(oldList);\n//     }\n//   };\n//   const onDragLeave = (event) => {\n//     event.currentTarget.style.background = \"\";\n//   };\n//   return isDraggable ? (\n//     <Card\n//       onDragOver={(event) => onDragOver(event)}\n//       onDrop={(event) => onDrop(event, listId, addItem, deleteItem)}\n//       onDragLeave={(event) => onDragLeave(event)}\n//       style={{ height: \"30vw\", width: \"30vw\" }}\n//     >\n//       {rest}\n//     </Card>\n//   ) : (\n//     <Card style={{ height: \"30vw\", width: \"30vw\" }}>{rest}</Card>\n//   );\n// };\n\nconst DraggableList = ({\n  isDraggable,\n  sheetId,\n  listId,\n  header,\n  items,\n  deleteList,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem,\n}) => {\n  let bottomItem = 0;\n\n  function setBottomItem(newItem) {\n    bottomItem = newItem;\n  }\n\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\";\n    // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = (event, listId, items, moveItem, sheetId, bottomItem) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n    // event.currentTarget.style.cursor = \"default\";\n    let itemId = event.dataTransfer.getData(\"item\");\n    console.log(itemId);\n    console.log(bottomItem);\n    let index =\n      bottomItem !== items.length &&\n      bottomItem !== 0 &&\n      items.findIndex((i) => i._id === bottomItem) !== -1\n        ? items.findIndex((i) => i._id === bottomItem)\n        : bottomItem;\n    console.log(index);\n    let body = { listId, index, itemId };\n    moveItem(body, sheetId);\n  };\n\n  const onDragLeave = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item, bottomItem, setBottomItem) => {\n    console.log(item);\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n    if (item !== bottomItem) {\n      bottomItem = item;\n      setBottomItem(item);\n      console.log(\"set\" + item);\n    }\n  };\n\n  const onDragLeaveItem = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return (\n    <Card\n      onDragOver={(event) => onDragOver(event)}\n      onDrop={(event) =>\n        onDrop(event, listId, items, moveItem, sheetId, bottomItem)\n      }\n      onDragLeave={(event) => onDragLeave(event)}\n      style={{ height: \"30vw\", width: \"30vw\" }}\n    >\n      {/* // <ListCard\n    //   isDraggable={isDraggable || false}\n    //   listId={listId}\n    //   addItem={addItem}\n    //   deleteItem={deleteItem}\n    // > */}\n      <CardHeader\n        action={\n          <IconButton\n            edge=\"end\"\n            aria-label=\"delete\"\n            onClick={() => deleteList({ listId, pageId: sheetId })}\n          >\n            <CloseIcon />\n          </IconButton>\n        }\n      >\n        <h4\n          onDrop={(event) => onDropItem(event, 0, bottomItem, setBottomItem)}\n          style={{ margin: \"10px 0px\" }}\n        >\n          {header}\n        </h4>\n      </CardHeader>\n      <List>\n        <CardContent>\n          {items && items.length > 0 ? (\n            items.map((item) => {\n              return (\n                <DraggableListItem\n                  key={item._id}\n                  isDraggable\n                  // isDraggable={isDraggable || false}\n                  item={item}\n                  onDragOver={(event) => onDragOverItem(event)}\n                  onDrop={(event) =>\n                    onDropItem(event, item._id, bottomItem, setBottomItem)\n                  }\n                  onDragLeave={(event) => onDragLeaveItem(event)}\n                >\n                  <ListItemText primary={item.name} />\n                  <Divider orientation=\"vertical\" flexItem />\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"delete\"\n                    onClick={() =>\n                      deleteItem({ listId, itemId: item._id, sheetId })\n                    }\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </DraggableListItem>\n              );\n            })\n          ) : (\n            <li>No items </li>\n          )}\n        </CardContent>\n      </List>\n      <CardActions\n        onDrop={(event) =>\n          onDropItem(event, items.length, bottomItem, setBottomItem)\n        }\n      >\n        <AddDialog\n          header=\"Add Item\"\n          fields={{ \"Item Name\": \"name\" }}\n          // specialFields={[\n          //   (changeFunction) => {\n          //     return (\n          //       <TextField\n          //         margin=\"dense\"\n          //         key=\"Description\"\n          //         id=\"details\"\n          //         label=\"Description\"\n          //         fullWidth\n          //         multiline\n          //         required\n          //         type=\"text\"\n          //         onChange={changeFunction}\n          //       />\n          //     );\n          //   },\n          // ]}\n          addFunction={addItem}\n          body={{ listId: listId, sheetId: sheetId }}\n        />\n      </CardActions>\n      {/* </ListCard> */}\n    </Card>\n  );\n};\n\nexport { DraggableList };\n"]},"metadata":{},"sourceType":"module"}