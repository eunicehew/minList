{"ast":null,"code":"var _jsxFileName = \"/Users/Eunice/Documents/minlist/client/src/components/common/List/List.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { EditableListItem } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\n\nconst DraggableList = ({\n  sheetId,\n  list,\n  listId,\n  header,\n  items,\n  bottomItem,\n  setBottomItem,\n  editList,\n  deleteList,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem,\n  itemLoading,\n  listIdLoading\n}) => {\n  const useStyles = makeStyles(theme => ({\n    card: {\n      maxHeight: \"30vh\",\n      width: \"20vw\",\n      position: \"relative\"\n    },\n    header: {\n      height: \"6vh\"\n    },\n    content: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"18vh\",\n      overflowY: \"auto\",\n      padding: theme.spacing(0, 2)\n    },\n    item: {\n      flexGrow: 1\n    },\n    itemSpace: {\n      flexGrow: 100\n    },\n    footer: {\n      height: \"6vh\"\n    },\n    closeButton: {\n      position: \"absolute\",\n      top: 0,\n      right: 0\n    },\n    addButton: {\n      position: \"absolute\",\n      bottom: \"2vh\",\n      right: \"4vh\"\n    },\n    hide: {\n      display: \"none\"\n    }\n  }));\n  const classes = useStyles();\n\n  const onDragOver = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\"; // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragLeave = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item) => {\n    event.preventDefault();\n\n    if (item !== bottomItem) {\n      bottomItem = item;\n      setBottomItem(item);\n    }\n\n    let itemId = event.dataTransfer.getData(\"item\");\n    let body = {\n      listId,\n      itemId,\n      items,\n      bottomItem\n    };\n    moveItem(body);\n  };\n\n  const onDragLeaveItem = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    onDragOver: event => onDragOver(event),\n    onDrop: event => onDrop(event),\n    onDragLeave: event => onDragLeave(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: classes.header,\n    onDrop: event => onDropItem(event, 0),\n    title: /*#__PURE__*/React.createElement(EditableListItem, {\n      item: list,\n      editFunction: inputText => editList({\n        id: listId,\n        pageId: sheetId,\n        name: inputText\n      }),\n      deleteFunction: () => deleteList(listId),\n      customOnNotEditClick: /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 35\n        }\n      }, header),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }),\n    action: /*#__PURE__*/React.createElement(IconButton, {\n      className: classes.closeButton,\n      \"aria-label\": \"delete\",\n      onClick: () => deleteList({\n        listId,\n        pageId: sheetId\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, items && items.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, items.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item._id,\n      className: classes.item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, itemLoading && listIdLoading.includes(listId) ? /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(EditableListItem, {\n      draggableItem: true,\n      item: item,\n      deleteFunction: () => deleteItem({\n        listId,\n        itemId: item._id\n      }),\n      deleteIcon: /*#__PURE__*/React.createElement(IconButton, {\n        edge: \"end\",\n        \"aria-label\": \"delete\",\n        onClick: () => deleteItem({\n          listId,\n          itemId: item._id\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DeleteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 27\n        }\n      })),\n      editFunction: inputText => editItem({\n        id: item._id,\n        name: inputText,\n        listId\n      }),\n      onDragOver: event => onDragOverItem(event),\n      onDrop: event => onDropItem(event, item._id),\n      onDragLeave: event => onDragLeaveItem(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.itemSpace,\n    onDrop: event => onDropItem(event, items.length),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Typography, {\n    align: \"center\",\n    variant: \"h6\",\n    className: classes.content,\n    onDrop: event => onDropItem(event, 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, \"No items\"))), /*#__PURE__*/React.createElement(CardActions, {\n    className: classes.footer,\n    onDrop: event => onDropItem(event, items.length),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.addButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddDialog, {\n    header: \"Add Item\",\n    fields: {\n      \"Item Name\": \"name\"\n    },\n    addFunction: addItem,\n    body: {\n      listId: listId,\n      sheetId: sheetId\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }))));\n};\n\nDraggableList.propTypes = {\n  sheetId: PropTypes.string.isRequired,\n  list: PropTypes.shape({\n    _id: PropTypes.string,\n    name: PropTypes.string,\n    sheets: PropTypes.array,\n    items: PropTypes.array\n  }).isRequired,\n  listId: PropTypes.string.isRequired,\n  header: PropTypes.string.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    subItems: PropTypes.array.isRequired\n  })).isRequired,\n  itemLoading: PropTypes.bool.isRequired,\n  listIdLoading: PropTypes.arrayOf(PropTypes.string).isRequired,\n  editList: PropTypes.func.isRequired,\n  deleteList: PropTypes.func.isRequired,\n  moveItem: PropTypes.func.isRequired,\n  addItem: PropTypes.func.isRequired,\n  editItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func.isRequired\n};\nexport { DraggableList };","map":{"version":3,"sources":["/Users/Eunice/Documents/minlist/client/src/components/common/List/List.js"],"names":["React","PropTypes","makeStyles","Card","CardHeader","CardContent","CardActions","List","CircularProgress","IconButton","CloseIcon","DeleteIcon","Typography","EditableListItem","AddDialog","DraggableList","sheetId","list","listId","header","items","bottomItem","setBottomItem","editList","deleteList","moveItem","addItem","editItem","deleteItem","itemLoading","listIdLoading","useStyles","theme","card","maxHeight","width","position","height","content","display","flexDirection","overflowY","padding","spacing","item","flexGrow","itemSpace","footer","closeButton","top","right","addButton","bottom","hide","classes","onDragOver","event","preventDefault","currentTarget","style","background","onDrop","onDragLeave","onDragOverItem","onDropItem","itemId","dataTransfer","getData","body","onDragLeaveItem","inputText","id","pageId","name","length","map","_id","includes","propTypes","string","isRequired","shape","sheets","array","arrayOf","subItems","bool","func"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { EditableListItem } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\n\n\nconst DraggableList = ({\n  sheetId,\n  list,\n  listId,\n  header,\n  items,\n  bottomItem,\n  setBottomItem,\n  editList,\n  deleteList,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem,\n  itemLoading,\n  listIdLoading,\n}) => {\n  const useStyles = makeStyles((theme) => ({\n    card: {\n      maxHeight: \"30vh\",\n      width: \"20vw\",\n      position: \"relative\",\n    },\n    header: { height: \"6vh\" },\n    content: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"18vh\",\n      overflowY: \"auto\",\n      padding: theme.spacing(0, 2),\n    },\n    item: {\n      flexGrow: 1\n    },\n    itemSpace: {\n      flexGrow: 100\n    },\n    footer: { height: \"6vh\"},\n    closeButton: {\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n    addButton: {\n      position: \"absolute\",\n      bottom: \"2vh\",\n      right: \"4vh\",\n    },\n    hide: {\n      display: \"none\",\n    },\n  }));\n\n  const classes = useStyles();\n\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\";\n    // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n\n  };\n\n  const onDragLeave = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item) => {\n    event.preventDefault();\n    if (item !== bottomItem) {\n      bottomItem = item;\n      setBottomItem(item);\n    }\n    let itemId = event.dataTransfer.getData(\"item\");\n    let body = { listId, itemId, items, bottomItem};\n    moveItem(body);\n  };\n\n  const onDragLeaveItem = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return (\n    <Card\n      className={classes.card}\n      onDragOver={(event) => onDragOver(event)}\n      onDrop={(event) => onDrop(event)}\n      onDragLeave={(event) => onDragLeave(event)}\n    >\n      <CardHeader\n        className={classes.header}\n        onDrop={(event)=>onDropItem(event, 0)}\n        title={\n          <EditableListItem\n            item={list}\n            editFunction={(inputText) =>\n              editList({\n                id: listId,\n                pageId: sheetId,\n                name: inputText,\n              })\n            }\n            deleteFunction={() => deleteList(listId)}\n            customOnNotEditClick={<Typography variant=\"h5\">{header}</Typography>}\n          />\n        }\n        action={\n          <IconButton\n            className={classes.closeButton}\n            aria-label=\"delete\"\n            onClick={() => deleteList({ listId, pageId: sheetId })}\n          >\n            <CloseIcon />\n          </IconButton>\n        }\n      />\n      <CardContent className={classes.content} >\n        <List className={classes.content}>\n          {items && items.length > 0 ? (\n            <>\n            {items.map((item) => {\n              return (\n                <div key={item._id} className={classes.item}>\n                  {itemLoading && listIdLoading.includes(listId) ? (\n                    <CircularProgress />\n                  ) : (\n                    <EditableListItem\n                      draggableItem\n                      item={item}\n                      deleteFunction={() =>\n                        deleteItem({ listId, itemId: item._id })\n                      }\n                      deleteIcon={\n                        <IconButton\n                          edge=\"end\"\n                          aria-label=\"delete\"\n                          onClick={() =>\n                            deleteItem({ listId, itemId: item._id })\n                          }\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      }\n                      editFunction={(inputText) =>\n                        editItem({ id: item._id, name: inputText, listId })\n                      }\n                      onDragOver={(event) => onDragOverItem(event)}\n                      onDrop={(event)=>onDropItem(event, item._id)}\n                      onDragLeave={(event) => onDragLeaveItem(event)}\n                    />\n                  )}\n                </div>\n              )})}\n              \n            <div className={classes.itemSpace} onDrop={(event)=>onDropItem(event, items.length)}/>\n            </>\n            \n          ) : (\n            <Typography \n              align=\"center\" \n              variant=\"h6\" \n              className={classes.content}\n              onDrop={(event)=>onDropItem(event, 0)}\n            >\n              No items\n            </Typography>\n          )}\n        </List>\n      </CardContent>\n\n      <CardActions className={classes.footer} onDrop={(event)=>onDropItem(event, items.length)}>\n        <div className={classes.addButton}>\n          <AddDialog\n            header=\"Add Item\"\n            fields={{ \"Item Name\": \"name\" }}\n            addFunction={addItem}\n            body={{ listId: listId, sheetId: sheetId }}\n          />\n        </div>\n      </CardActions>\n    </Card>\n  );\n};\n\nDraggableList.propTypes = {\n  sheetId: PropTypes.string.isRequired,\n  list: PropTypes.shape({\n    _id: PropTypes.string,\n    name: PropTypes.string,\n    sheets: PropTypes.array,\n    items: PropTypes.array,\n  }).isRequired,\n  listId: PropTypes.string.isRequired,\n  header: PropTypes.string.isRequired,\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      _id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      subItems: PropTypes.array.isRequired,\n    })\n  ).isRequired,\n  itemLoading: PropTypes.bool.isRequired,\n  listIdLoading: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n  editList: PropTypes.func.isRequired,\n  deleteList: PropTypes.func.isRequired,\n  moveItem: PropTypes.func.isRequired,\n  addItem: PropTypes.func.isRequired,\n  editItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func.isRequired,\n};\n\nexport { DraggableList };\n"]},"metadata":{},"sourceType":"module"}