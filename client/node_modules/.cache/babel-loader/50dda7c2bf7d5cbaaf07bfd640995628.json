{"ast":null,"code":"import { pageService } from \"../services/PageService\";\nimport { getLists } from \"./List\";\nimport { successAlert, errorAlert } from \"./Alert\"; //Actions\n\nconst SHEET_REQUEST = \"components/common/SHEET_REQUEST\";\nconst SHEET_SUCCESS = \"components/common/SHEET_SUCCESS\";\nconst SHEET_FAILURE = \"components/common/SHEET_FAILURE\"; //Reducer\n\nexport default function sheetReducer(state = {\n  sheets: []\n}, action) {\n  switch (action.type) {\n    case SHEET_REQUEST:\n      return Object.assign({}, state, {\n        loading: true\n      });\n\n    case SHEET_SUCCESS:\n      return Object.assign({}, state, {\n        sheets: action.sheets,\n        loading: false\n      });\n\n    case SHEET_FAILURE:\n      return Object.assign({}, state, {\n        error: action.error,\n        loading: false\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nfunction failure(error) {\n  return {\n    type: SHEET_FAILURE,\n    error\n  };\n}\n\nexport function getSheets(pageId) {\n  return dispatch => {\n    dispatch({\n      type: SHEET_REQUEST\n    });\n    pageService.getSheets(pageId).then(sheets => {\n      dispatch({\n        type: SHEET_SUCCESS,\n        sheets\n      }); // console.log(sheets);\n\n      if (sheets && sheets.length > 0) {\n        // console.log(sheets[0]._id);\n        dispatch(getLists(sheets[0]._id));\n      }\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n}\n\nfunction _handleAction(apiCall, body, action) {\n  return dispatch => {\n    apiCall(body).then(sheets => {\n      // console.log(sheets);\n      dispatch(successAlert(\"Successfully\" + action + \"sheet\"));\n      dispatch(getSheets(body.pageId));\n    }, error => {\n      dispatch(failure(error.toString()));\n      dispatch(errorAlert(error.toString()));\n    });\n  };\n}\n\nexport function addSheet(body) {\n  return _handleAction(pageService.createSheet, body, \"added\");\n}\nexport function deleteSheet(body) {\n  return _handleAction(pageService.deleteSheet, body, \"deleted\");\n}\nexport function updateSheet(body) {\n  return _handleAction(pageService.update, body, \"updated\");\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/Sheet.js"],"names":["pageService","getLists","successAlert","errorAlert","SHEET_REQUEST","SHEET_SUCCESS","SHEET_FAILURE","sheetReducer","state","sheets","action","type","Object","assign","loading","error","failure","getSheets","pageId","dispatch","then","length","_id","toString","_handleAction","apiCall","body","addSheet","createSheet","deleteSheet","updateSheet","update"],"mappings":"AAAA,SAASA,WAAT,QAA4B,yBAA5B;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,SAAzC,C,CAEA;;AACA,MAAMC,aAAa,GAAG,iCAAtB;AACA,MAAMC,aAAa,GAAG,iCAAtB;AACA,MAAMC,aAAa,GAAG,iCAAtB,C,CAEA;;AACA,eAAe,SAASC,YAAT,CAAsBC,KAAK,GAAG;AAAEC,EAAAA,MAAM,EAAE;AAAV,CAA9B,EAA8CC,MAA9C,EAAsD;AACnE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,aAAL;AACE,aAAOQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BM,QAAAA,OAAO,EAAE;AADqB,OAAzB,CAAP;;AAGF,SAAKT,aAAL;AACE,aAAOO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BC,QAAAA,MAAM,EAAEC,MAAM,CAACD,MADe;AAE9BK,QAAAA,OAAO,EAAE;AAFqB,OAAzB,CAAP;;AAIF,SAAKR,aAAL;AACE,aAAOM,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BO,QAAAA,KAAK,EAAEL,MAAM,CAACK,KADgB;AAE9BD,QAAAA,OAAO,EAAE;AAFqB,OAAzB,CAAP;;AAIF;AACE,aAAON,KAAP;AAhBJ;AAkBD,C,CAED;;AACA,SAASQ,OAAT,CAAiBD,KAAjB,EAAwB;AACtB,SAAO;AAAEJ,IAAAA,IAAI,EAAEL,aAAR;AAAuBS,IAAAA;AAAvB,GAAP;AACD;;AAED,OAAO,SAASE,SAAT,CAAmBC,MAAnB,EAA2B;AAChC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAAER,MAAAA,IAAI,EAAEP;AAAR,KAAD,CAAR;AACAJ,IAAAA,WAAW,CAACiB,SAAZ,CAAsBC,MAAtB,EAA8BE,IAA9B,CACGX,MAAD,IAAY;AACVU,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAEN,aAAR;AAAuBI,QAAAA;AAAvB,OAAD,CAAR,CADU,CAEV;;AACA,UAAIA,MAAM,IAAIA,MAAM,CAACY,MAAP,GAAgB,CAA9B,EAAiC;AAC/B;AACAF,QAAAA,QAAQ,CAAClB,QAAQ,CAACQ,MAAM,CAAC,CAAD,CAAN,CAAUa,GAAX,CAAT,CAAR;AACD;AACF,KARH,EASGP,KAAD,IAAW;AACTI,MAAAA,QAAQ,CAACH,OAAO,CAACD,KAAK,CAACQ,QAAN,EAAD,CAAR,CAAR;AACAJ,MAAAA,QAAQ,CAAChB,UAAU,CAACY,KAAK,CAACQ,QAAN,EAAD,CAAX,CAAR;AACD,KAZH;AAcD,GAhBD;AAiBD;;AAED,SAASC,aAAT,CAAuBC,OAAvB,EAAgCC,IAAhC,EAAsChB,MAAtC,EAA8C;AAC5C,SAAQS,QAAD,IAAc;AACnBM,IAAAA,OAAO,CAACC,IAAD,CAAP,CAAcN,IAAd,CACGX,MAAD,IAAY;AACV;AACAU,MAAAA,QAAQ,CAACjB,YAAY,CAAC,iBAAiBQ,MAAjB,GAA0B,OAA3B,CAAb,CAAR;AACAS,MAAAA,QAAQ,CAACF,SAAS,CAACS,IAAI,CAACR,MAAN,CAAV,CAAR;AACD,KALH,EAMGH,KAAD,IAAW;AACTI,MAAAA,QAAQ,CAACH,OAAO,CAACD,KAAK,CAACQ,QAAN,EAAD,CAAR,CAAR;AACAJ,MAAAA,QAAQ,CAAChB,UAAU,CAACY,KAAK,CAACQ,QAAN,EAAD,CAAX,CAAR;AACD,KATH;AAWD,GAZD;AAaD;;AAED,OAAO,SAASI,QAAT,CAAkBD,IAAlB,EAAwB;AAC7B,SAAOF,aAAa,CAACxB,WAAW,CAAC4B,WAAb,EAA0BF,IAA1B,EAAgC,OAAhC,CAApB;AACD;AACD,OAAO,SAASG,WAAT,CAAqBH,IAArB,EAA2B;AAChC,SAAOF,aAAa,CAACxB,WAAW,CAAC6B,WAAb,EAA0BH,IAA1B,EAAgC,SAAhC,CAApB;AACD;AACD,OAAO,SAASI,WAAT,CAAqBJ,IAArB,EAA2B;AAChC,SAAOF,aAAa,CAACxB,WAAW,CAAC+B,MAAb,EAAqBL,IAArB,EAA2B,SAA3B,CAApB;AACD","sourcesContent":["import { pageService } from \"../services/PageService\";\nimport { getLists } from \"./List\";\nimport { successAlert, errorAlert } from \"./Alert\";\n\n//Actions\nconst SHEET_REQUEST = \"components/common/SHEET_REQUEST\";\nconst SHEET_SUCCESS = \"components/common/SHEET_SUCCESS\";\nconst SHEET_FAILURE = \"components/common/SHEET_FAILURE\";\n\n//Reducer\nexport default function sheetReducer(state = { sheets: [] }, action) {\n  switch (action.type) {\n    case SHEET_REQUEST:\n      return Object.assign({}, state, {\n        loading: true,\n      });\n    case SHEET_SUCCESS:\n      return Object.assign({}, state, {\n        sheets: action.sheets,\n        loading: false,\n      });\n    case SHEET_FAILURE:\n      return Object.assign({}, state, {\n        error: action.error,\n        loading: false,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nfunction failure(error) {\n  return { type: SHEET_FAILURE, error };\n}\n\nexport function getSheets(pageId) {\n  return (dispatch) => {\n    dispatch({ type: SHEET_REQUEST });\n    pageService.getSheets(pageId).then(\n      (sheets) => {\n        dispatch({ type: SHEET_SUCCESS, sheets });\n        // console.log(sheets);\n        if (sheets && sheets.length > 0) {\n          // console.log(sheets[0]._id);\n          dispatch(getLists(sheets[0]._id));\n        }\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n}\n\nfunction _handleAction(apiCall, body, action) {\n  return (dispatch) => {\n    apiCall(body).then(\n      (sheets) => {\n        // console.log(sheets);\n        dispatch(successAlert(\"Successfully\" + action + \"sheet\"));\n        dispatch(getSheets(body.pageId));\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        dispatch(errorAlert(error.toString()));\n      }\n    );\n  };\n}\n\nexport function addSheet(body) {\n  return _handleAction(pageService.createSheet, body, \"added\");\n}\nexport function deleteSheet(body) {\n  return _handleAction(pageService.deleteSheet, body, \"deleted\");\n}\nexport function updateSheet(body) {\n  return _handleAction(pageService.update, body, \"updated\");\n}\n"]},"metadata":{},"sourceType":"module"}