{"ast":null,"code":"import { itemService } from \"../services/ItemService\";\nimport { getLists } from \"./List\"; //Actions\n\nconst ITEM_REQUEST = \"components/common/ITEM_REQUEST\";\nconst ITEM_SUCCESS = \"components/common/ITEM_SUCCESS\";\nconst ITEM_FAILURE = \"components/common/ITEM_FAILURE\"; //Reducer\n\nexport default function itemReducer(state = {}, action) {\n  switch (action.type) {\n    case ITEM_REQUEST:\n      return Object.assign({}, state, {\n        gettingItems: true\n      });\n\n    case ITEM_SUCCESS:\n      return Object.assign({}, state, {\n        items: action.items\n      });\n\n    case ITEM_FAILURE:\n      return Object.assign({}, state, {\n        error: true\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nexport function getItems(listId) {\n  return dispatch => {\n    dispatch(request());\n    itemService.getItems(listId).then(items => {\n      dispatch(success(items));\n    }, error => {\n      dispatch(failure(error.toString())); // dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request() {\n    return {\n      type: ITEM_REQUEST\n    };\n  }\n\n  function success(items) {\n    return {\n      type: ITEM_SUCCESS,\n      items\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: ITEM_FAILURE,\n      error\n    };\n  }\n}\nexport function moveLists(listId, index, itemId) {\n  return dispatch => {\n    dispatch(request());\n    let originalList = undefined;\n    itemService.getParentList(itemId).then(list => {\n      originalList = list._id; // dispatch(success(items));\n    }, error => {\n      dispatch(failure(error.toString())); // dispatch(alertActions.error(error.toString()));\n    }).then(() => {\n      console.log(itemId);\n      console.log(originalList);\n      let body = {\n        originalList,\n        listId,\n        index,\n        itemId\n      };\n      itemService.moveLists(body).then(items => dispatch(success(items)), //return updated lists?\n      error => {\n        dispatch(failure(error.toString()));\n      });\n    });\n  };\n\n  function request() {\n    return {\n      type: ITEM_REQUEST\n    };\n  }\n\n  function success(items) {\n    return {\n      type: ITEM_SUCCESS,\n      items\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: ITEM_FAILURE,\n      error\n    };\n  }\n}\n\nfunction _handleItem(apiCall, body) {\n  return dispatch => {\n    dispatch({\n      type: ITEM_REQUEST\n    });\n    apiCall(body).then(items => {\n      console.log(items); // dispatch({ type: ITEM_SUCCESS, items });\n\n      dispatch(getLists(body.sheetId));\n    }, error => {\n      dispatch({\n        type: ITEM_FAILURE,\n        payload: error.toString()\n      });\n    });\n  };\n}\n\nexport function addItem(body) {\n  return _handleItem(itemService.create, body);\n}\nexport function deleteItem(body) {\n  return _handleItem(itemService.deleteItem, body);\n}\nexport function updateItem(body) {\n  return _handleItem(itemService.update, body);\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/Item.js"],"names":["itemService","getLists","ITEM_REQUEST","ITEM_SUCCESS","ITEM_FAILURE","itemReducer","state","action","type","Object","assign","gettingItems","items","error","getItems","listId","dispatch","request","then","success","failure","toString","moveLists","index","itemId","originalList","undefined","getParentList","list","_id","console","log","body","_handleItem","apiCall","sheetId","payload","addItem","create","deleteItem","updateItem","update"],"mappings":"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","sourcesContent":["import { itemService } from \"../services/ItemService\";\nimport { getLists } from \"./List\";\n//Actions\nconst ITEM_REQUEST = \"components/common/ITEM_REQUEST\";\nconst ITEM_SUCCESS = \"components/common/ITEM_SUCCESS\";\nconst ITEM_FAILURE = \"components/common/ITEM_FAILURE\";\n\n//Reducer\nexport default function itemReducer(state = {}, action) {\n  switch (action.type) {\n    case ITEM_REQUEST:\n      return Object.assign({}, state, {\n        gettingItems: true,\n      });\n    case ITEM_SUCCESS:\n      return Object.assign({}, state, {\n        items: action.items,\n      });\n    case ITEM_FAILURE:\n      return Object.assign({}, state, {\n        error: true,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nexport function getItems(listId) {\n  return (dispatch) => {\n    dispatch(request());\n    itemService.getItems(listId).then(\n      (items) => {\n        dispatch(success(items));\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        // dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request() {\n    return { type: ITEM_REQUEST };\n  }\n  function success(items) {\n    return { type: ITEM_SUCCESS, items };\n  }\n  function failure(error) {\n    return { type: ITEM_FAILURE, error };\n  }\n}\n\nexport function moveLists(listId, index, itemId) {\n  return (dispatch) => {\n    dispatch(request());\n    let originalList = undefined;\n    itemService\n      .getParentList(itemId)\n      .then(\n        (list) => {\n          originalList = list._id;\n          // dispatch(success(items));\n        },\n        (error) => {\n          dispatch(failure(error.toString()));\n          // dispatch(alertActions.error(error.toString()));\n        }\n      )\n      .then(() => {\n        console.log(itemId);\n        console.log(originalList);\n        let body = { originalList, listId, index, itemId };\n        itemService.moveLists(body).then(\n          (items) => dispatch(success(items)), //return updated lists?\n          (error) => {\n            dispatch(failure(error.toString()));\n          }\n        );\n      });\n  };\n\n  function request() {\n    return { type: ITEM_REQUEST };\n  }\n  function success(items) {\n    return { type: ITEM_SUCCESS, items };\n  }\n  function failure(error) {\n    return { type: ITEM_FAILURE, error };\n  }\n}\n\nfunction _handleItem(apiCall, body) {\n  return (dispatch) => {\n    dispatch({ type: ITEM_REQUEST });\n    apiCall(body).then(\n      (items) => {\n        console.log(items);\n        // dispatch({ type: ITEM_SUCCESS, items });\n        dispatch(getLists(body.sheetId));\n      },\n      (error) => {\n        dispatch({ type: ITEM_FAILURE, payload: error.toString() });\n      }\n    );\n  };\n}\n\nexport function addItem(body) {\n  return _handleItem(itemService.create, body);\n}\nexport function deleteItem(body) {\n  return _handleItem(itemService.deleteItem, body);\n}\nexport function updateItem(body) {\n  return _handleItem(itemService.update, body);\n}\n"]},"metadata":{},"sourceType":"module"}