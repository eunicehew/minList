{"ast":null,"code":"import { pageService } from \"../services/PageService\";\nimport { getLists } from \"./List\"; //Actions\n\nconst SHEET_REQUEST = \"components/common/SHEET_REQUEST\";\nconst SHEET_SUCCESS = \"components/common/SHEET_SUCCESS\";\nconst SHEET_FAILURE = \"components/common/SHEET_FAILURE\"; //Reducer\n\nexport default function sheetReducer(state = {\n  sheets: []\n}, action) {\n  switch (action.type) {\n    case SHEET_REQUEST:\n      return Object.assign({}, state, {\n        gettingSheets: true\n      });\n\n    case SHEET_SUCCESS:\n      return Object.assign({}, state, {\n        sheets: action.sheets\n      });\n\n    case SHEET_FAILURE:\n      return Object.assign({}, state, {\n        error: true\n      });\n\n    default:\n      return state;\n  }\n} //Action Creators\n\nexport function getSheets(pageId) {\n  return dispatch => {\n    dispatch(request());\n    pageService.getSheets(pageId).then(sheets => {\n      dispatch(success(sheets));\n\n      if (sheets) {\n        dispatch(getLists(sheets[0]._id));\n      }\n    }, error => {\n      dispatch(failure(error.toString())); // dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request() {\n    return {\n      type: SHEET_REQUEST\n    };\n  }\n\n  function success(sheets) {\n    return {\n      type: SHEET_SUCCESS,\n      sheets\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: SHEET_FAILURE,\n      error\n    };\n  }\n}\n\nfunction _handleAction(apiCall, body) {\n  return dispatch => {\n    dispatch({\n      type: SHEET_REQUEST\n    });\n    apiCall(body).then(sheets => {\n      console.log(sheets); // dispatch({ type: PAGE_SUCCESS, pages });\n\n      dispatch(getSheets(body.pageId));\n    }, error => {\n      dispatch({\n        type: SHEET_FAILURE,\n        error\n      });\n    });\n  };\n}\n\nexport function addSheet(body) {\n  return _handleAction(pageService.createSheet, body);\n}\nexport function deleteSheet(body) {\n  return _handleAction(pageService.deleteSheet, body);\n}\nexport function updateSheet(body) {\n  return _handleAction(pageService.update, body);\n}","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/redux/Sheet.js"],"names":["pageService","getLists","SHEET_REQUEST","SHEET_SUCCESS","SHEET_FAILURE","sheetReducer","state","sheets","action","type","Object","assign","gettingSheets","error","getSheets","pageId","dispatch","request","then","success","_id","failure","toString","_handleAction","apiCall","body","console","log","addSheet","createSheet","deleteSheet","updateSheet","update"],"mappings":"AAAA,SAASA,WAAT,QAA4B,yBAA5B;AACA,SAASC,QAAT,QAAyB,QAAzB,C,CACA;;AACA,MAAMC,aAAa,GAAG,iCAAtB;AACA,MAAMC,aAAa,GAAG,iCAAtB;AACA,MAAMC,aAAa,GAAG,iCAAtB,C,CAEA;;AACA,eAAe,SAASC,YAAT,CAAsBC,KAAK,GAAG;AAAEC,EAAAA,MAAM,EAAE;AAAV,CAA9B,EAA8CC,MAA9C,EAAsD;AACnE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,aAAL;AACE,aAAOQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BM,QAAAA,aAAa,EAAE;AADe,OAAzB,CAAP;;AAGF,SAAKT,aAAL;AACE,aAAOO,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BC,QAAAA,MAAM,EAAEC,MAAM,CAACD;AADe,OAAzB,CAAP;;AAGF,SAAKH,aAAL;AACE,aAAOM,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,KAAlB,EAAyB;AAC9BO,QAAAA,KAAK,EAAE;AADuB,OAAzB,CAAP;;AAGF;AACE,aAAOP,KAAP;AAdJ;AAgBD,C,CAED;;AACA,OAAO,SAASQ,SAAT,CAAmBC,MAAnB,EAA2B;AAChC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,OAAO,EAAR,CAAR;AACAjB,IAAAA,WAAW,CAACc,SAAZ,CAAsBC,MAAtB,EAA8BG,IAA9B,CACGX,MAAD,IAAY;AACVS,MAAAA,QAAQ,CAACG,OAAO,CAACZ,MAAD,CAAR,CAAR;;AACA,UAAIA,MAAJ,EAAY;AACVS,QAAAA,QAAQ,CAACf,QAAQ,CAACM,MAAM,CAAC,CAAD,CAAN,CAAUa,GAAX,CAAT,CAAR;AACD;AACF,KANH,EAOGP,KAAD,IAAW;AACTG,MAAAA,QAAQ,CAACK,OAAO,CAACR,KAAK,CAACS,QAAN,EAAD,CAAR,CAAR,CADS,CAET;AACD,KAVH;AAYD,GAdD;;AAgBA,WAASL,OAAT,GAAmB;AACjB,WAAO;AAAER,MAAAA,IAAI,EAAEP;AAAR,KAAP;AACD;;AACD,WAASiB,OAAT,CAAiBZ,MAAjB,EAAyB;AACvB,WAAO;AAAEE,MAAAA,IAAI,EAAEN,aAAR;AAAuBI,MAAAA;AAAvB,KAAP;AACD;;AACD,WAASc,OAAT,CAAiBR,KAAjB,EAAwB;AACtB,WAAO;AAAEJ,MAAAA,IAAI,EAAEL,aAAR;AAAuBS,MAAAA;AAAvB,KAAP;AACD;AACF;;AAED,SAASU,aAAT,CAAuBC,OAAvB,EAAgCC,IAAhC,EAAsC;AACpC,SAAQT,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AAAEP,MAAAA,IAAI,EAAEP;AAAR,KAAD,CAAR;AACAsB,IAAAA,OAAO,CAACC,IAAD,CAAP,CAAcP,IAAd,CACGX,MAAD,IAAY;AACVmB,MAAAA,OAAO,CAACC,GAAR,CAAYpB,MAAZ,EADU,CAEV;;AACAS,MAAAA,QAAQ,CAACF,SAAS,CAACW,IAAI,CAACV,MAAN,CAAV,CAAR;AACD,KALH,EAMGF,KAAD,IAAW;AACTG,MAAAA,QAAQ,CAAC;AAAEP,QAAAA,IAAI,EAAEL,aAAR;AAAuBS,QAAAA;AAAvB,OAAD,CAAR;AACD,KARH;AAUD,GAZD;AAaD;;AAED,OAAO,SAASe,QAAT,CAAkBH,IAAlB,EAAwB;AAC7B,SAAOF,aAAa,CAACvB,WAAW,CAAC6B,WAAb,EAA0BJ,IAA1B,CAApB;AACD;AACD,OAAO,SAASK,WAAT,CAAqBL,IAArB,EAA2B;AAChC,SAAOF,aAAa,CAACvB,WAAW,CAAC8B,WAAb,EAA0BL,IAA1B,CAApB;AACD;AACD,OAAO,SAASM,WAAT,CAAqBN,IAArB,EAA2B;AAChC,SAAOF,aAAa,CAACvB,WAAW,CAACgC,MAAb,EAAqBP,IAArB,CAApB;AACD","sourcesContent":["import { pageService } from \"../services/PageService\";\nimport { getLists } from \"./List\";\n//Actions\nconst SHEET_REQUEST = \"components/common/SHEET_REQUEST\";\nconst SHEET_SUCCESS = \"components/common/SHEET_SUCCESS\";\nconst SHEET_FAILURE = \"components/common/SHEET_FAILURE\";\n\n//Reducer\nexport default function sheetReducer(state = { sheets: [] }, action) {\n  switch (action.type) {\n    case SHEET_REQUEST:\n      return Object.assign({}, state, {\n        gettingSheets: true,\n      });\n    case SHEET_SUCCESS:\n      return Object.assign({}, state, {\n        sheets: action.sheets,\n      });\n    case SHEET_FAILURE:\n      return Object.assign({}, state, {\n        error: true,\n      });\n    default:\n      return state;\n  }\n}\n\n//Action Creators\nexport function getSheets(pageId) {\n  return (dispatch) => {\n    dispatch(request());\n    pageService.getSheets(pageId).then(\n      (sheets) => {\n        dispatch(success(sheets));\n        if (sheets) {\n          dispatch(getLists(sheets[0]._id));\n        }\n      },\n      (error) => {\n        dispatch(failure(error.toString()));\n        // dispatch(alertActions.error(error.toString()));\n      }\n    );\n  };\n\n  function request() {\n    return { type: SHEET_REQUEST };\n  }\n  function success(sheets) {\n    return { type: SHEET_SUCCESS, sheets };\n  }\n  function failure(error) {\n    return { type: SHEET_FAILURE, error };\n  }\n}\n\nfunction _handleAction(apiCall, body) {\n  return (dispatch) => {\n    dispatch({ type: SHEET_REQUEST });\n    apiCall(body).then(\n      (sheets) => {\n        console.log(sheets);\n        // dispatch({ type: PAGE_SUCCESS, pages });\n        dispatch(getSheets(body.pageId));\n      },\n      (error) => {\n        dispatch({ type: SHEET_FAILURE, error });\n      }\n    );\n  };\n}\n\nexport function addSheet(body) {\n  return _handleAction(pageService.createSheet, body);\n}\nexport function deleteSheet(body) {\n  return _handleAction(pageService.deleteSheet, body);\n}\nexport function updateSheet(body) {\n  return _handleAction(pageService.update, body);\n}\n"]},"metadata":{},"sourceType":"module"}