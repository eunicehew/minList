{"ast":null,"code":"var _jsxFileName = \"/Users/Eunice/Documents/my-app/client/src/components/common/List/List.js\";\nimport React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { DraggableListItem, ListItemButtons } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { itemService } from \"../../../services/ItemService\"; // const ListCard = ({ isDraggable, listId, addItem, deleteItem, ...rest }) => {\n//   const onDragOver = (event) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"lightgray\";\n//     // event.currentTarget.style.cursor = \"grabbing\";\n//   };\n//   const onDrop = (event, listId, addItem, deleteItem) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"\";\n//     // event.currentTarget.style.cursor = \"default\";\n//     let itemId = event.dataTransfer.getData(\"item\");\n//     let selectedItem = this.props.items.find((i) => i._id === itemId);\n//     if (listId !== event.target._id) {\n//       //get id of new list\n//       //THIS IS DEFINITELY WRONG--UPDATE WHEN WE GET TO DOING ITEMS\n//       const oldList = { listId: listId, ...selectedItem };\n//       const newList = { listId: event.target._id, ...selectedItem };\n//       addItem(newList);\n//       deleteItem(oldList);\n//     }\n//   };\n//   const onDragLeave = (event) => {\n//     event.currentTarget.style.background = \"\";\n//   };\n//   return isDraggable ? (\n//     <Card\n//       onDragOver={(event) => onDragOver(event)}\n//       onDrop={(event) => onDrop(event, listId, addItem, deleteItem)}\n//       onDragLeave={(event) => onDragLeave(event)}\n//       style={{ height: \"30vw\", width: \"30vw\" }}\n//     >\n//       {rest}\n//     </Card>\n//   ) : (\n//     <Card style={{ height: \"30vw\", width: \"30vw\" }}>{rest}</Card>\n//   );\n// };\n\nconst DraggableList = ({\n  isDraggable,\n  sheetId,\n  listId,\n  header,\n  items,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem,\n  bottomItem,\n  setBottomItem\n}) => {\n  let tempBottomItem = 0;\n\n  const onDragOver = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\"; // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = (event, listId, items, moveItem, sheetId, bottomItem) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\"; // event.currentTarget.style.cursor = \"default\";\n\n    let itemId = event.dataTransfer.getData(\"item\");\n    console.log(itemId);\n    console.log(bottomItem); // let bottomItem = getBottomItem;\n\n    let index = bottomItem !== items.length && bottomItem !== 0 && items.findIndex(i => i._id === bottomItem) !== -1 ? items.findIndex(i => i._id === bottomItem) : bottomItem;\n    console.log(index);\n    let body = {\n      listId,\n      index,\n      itemId\n    };\n    moveItem(body, sheetId);\n  };\n\n  const onDragLeave = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = event => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item, bottomItem, setBottomItem) => {\n    console.log(item);\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n\n    if (item !== bottomItem) {\n      temp = item;\n      setBottomItem(item);\n      console.log(\"set\" + item);\n    }\n  };\n\n  const onDragLeaveItem = event => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    onDragOver: event => onDragOver(event),\n    onDrop: event => onDrop(event, listId, items, moveItem, sheetId, tempBottomItem),\n    onDragLeave: event => onDragLeave(event),\n    style: {\n      height: \"30vw\",\n      width: \"30vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    onDrop: event => onDropItem(event, 0, bottomItem, setBottomItem),\n    style: {\n      margin: \"10px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, header), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, items && items.length > 0 ? items.map(item => {\n    return /*#__PURE__*/React.createElement(DraggableListItem, {\n      key: item._id,\n      isDraggable: true // isDraggable={isDraggable || false}\n      ,\n      item: item,\n      onDragOver: event => onDragOverItem(event),\n      onDrop: event => onDropItem(event, item._id, bottomItem, setBottomItem),\n      onDragLeave: event => onDragLeaveItem(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }));\n  }) : /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"No items \"))), /*#__PURE__*/React.createElement(CardActions, {\n    onDrop: event => onDropItem(event, items.length, bottomItem, setBottomItem),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddDialog, {\n    header: \"Add Item\",\n    fields: {\n      \"Item Name\": \"name\"\n    } // specialFields={[\n    //   (changeFunction) => {\n    //     return (\n    //       <TextField\n    //         margin=\"dense\"\n    //         key=\"Description\"\n    //         id=\"details\"\n    //         label=\"Description\"\n    //         fullWidth\n    //         multiline\n    //         required\n    //         type=\"text\"\n    //         onChange={changeFunction}\n    //       />\n    //     );\n    //   },\n    // ]}\n    ,\n    addFunction: addItem,\n    body: {\n      listId: listId,\n      sheetId: sheetId\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport { DraggableList };","map":{"version":3,"sources":["/Users/Eunice/Documents/my-app/client/src/components/common/List/List.js"],"names":["React","Card","CardContent","CardActions","List","ListItemText","DraggableListItem","ListItemButtons","AddDialog","TextField","itemService","DraggableList","isDraggable","sheetId","listId","header","items","moveItem","addItem","editItem","deleteItem","bottomItem","setBottomItem","tempBottomItem","onDragOver","event","preventDefault","currentTarget","style","background","onDrop","itemId","dataTransfer","getData","console","log","index","length","findIndex","i","_id","body","onDragLeave","onDragOverItem","onDropItem","item","temp","onDragLeaveItem","height","width","margin","map","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,SAASC,iBAAT,EAA4BC,eAA5B,QAAmD,aAAnD;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,WAAT,QAA4B,+BAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,aAAa,GAAG,CAAC;AACrBC,EAAAA,WADqB;AAErBC,EAAAA,OAFqB;AAGrBC,EAAAA,MAHqB;AAIrBC,EAAAA,MAJqB;AAKrBC,EAAAA,KALqB;AAMrBC,EAAAA,QANqB;AAOrBC,EAAAA,OAPqB;AAQrBC,EAAAA,QARqB;AASrBC,EAAAA,UATqB;AAUrBC,EAAAA,UAVqB;AAWrBC,EAAAA;AAXqB,CAAD,KAYhB;AACJ,MAAIC,cAAc,GAAG,CAArB;;AACA,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,WAAvC,CAF4B,CAG5B;AACD,GAJD;;AAMA,QAAMC,MAAM,GAAG,CAACL,KAAD,EAAQX,MAAR,EAAgBE,KAAhB,EAAuBC,QAAvB,EAAiCJ,OAAjC,EAA0CQ,UAA1C,KAAyD;AACtEI,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC,CAFsE,CAGtE;;AACA,QAAIE,MAAM,GAAGN,KAAK,CAACO,YAAN,CAAmBC,OAAnB,CAA2B,MAA3B,CAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ,EANsE,CAOtE;;AACA,QAAIe,KAAK,GACPf,UAAU,KAAKL,KAAK,CAACqB,MAArB,IACAhB,UAAU,KAAK,CADf,IAEAL,KAAK,CAACsB,SAAN,CAAiBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUnB,UAAjC,MAAiD,CAAC,CAFlD,GAGIL,KAAK,CAACsB,SAAN,CAAiBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUnB,UAAjC,CAHJ,GAIIA,UALN;AAMAa,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA,QAAIK,IAAI,GAAG;AAAE3B,MAAAA,MAAF;AAAUsB,MAAAA,KAAV;AAAiBL,MAAAA;AAAjB,KAAX;AACAd,IAAAA,QAAQ,CAACwB,IAAD,EAAO5B,OAAP,CAAR;AACD,GAjBD;;AAmBA,QAAM6B,WAAW,GAAIjB,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;AACD,GAFD;;AAIA,QAAMc,cAAc,GAAIlB,KAAD,IAAW;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,WAAvC;AACD,GAHD;;AAKA,QAAMe,UAAU,GAAG,CAACnB,KAAD,EAAQoB,IAAR,EAAcxB,UAAd,EAA0BC,aAA1B,KAA4C;AAC7DY,IAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AACApB,IAAAA,KAAK,CAACC,cAAN;AACAD,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;;AACA,QAAIgB,IAAI,KAAKxB,UAAb,EAAyB;AACvByB,MAAAA,IAAI,GAAGD,IAAP;AACAvB,MAAAA,aAAa,CAACuB,IAAD,CAAb;AACAX,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAQU,IAApB;AACD;AACF,GATD;;AAWA,QAAME,eAAe,GAAItB,KAAD,IAAW;AACjCA,IAAAA,KAAK,CAACE,aAAN,CAAoBC,KAApB,CAA0BC,UAA1B,GAAuC,EAAvC;AACD,GAFD;;AAIA,sBACE,oBAAC,IAAD;AACE,IAAA,UAAU,EAAGJ,KAAD,IAAWD,UAAU,CAACC,KAAD,CADnC;AAEE,IAAA,MAAM,EAAGA,KAAD,IACNK,MAAM,CAACL,KAAD,EAAQX,MAAR,EAAgBE,KAAhB,EAAuBC,QAAvB,EAAiCJ,OAAjC,EAA0CU,cAA1C,CAHV;AAKE,IAAA,WAAW,EAAGE,KAAD,IAAWiB,WAAW,CAACjB,KAAD,CALrC;AAME,IAAA,KAAK,EAAE;AAAEuB,MAAAA,MAAM,EAAE,MAAV;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAcE;AACE,IAAA,MAAM,EAAGxB,KAAD,IAAWmB,UAAU,CAACnB,KAAD,EAAQ,CAAR,EAAWJ,UAAX,EAAuBC,aAAvB,CAD/B;AAEE,IAAA,KAAK,EAAE;AAAE4B,MAAAA,MAAM,EAAE;AAAV,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGnC,MAJH,CAdF,eAoBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,KAAK,IAAIA,KAAK,CAACqB,MAAN,GAAe,CAAxB,GACCrB,KAAK,CAACmC,GAAN,CAAWN,IAAD,IAAU;AAClB,wBACE,oBAAC,iBAAD;AACE,MAAA,GAAG,EAAEA,IAAI,CAACL,GADZ;AAEE,MAAA,WAAW,MAFb,CAGE;AAHF;AAIE,MAAA,IAAI,EAAEK,IAJR;AAKE,MAAA,UAAU,EAAGpB,KAAD,IAAWkB,cAAc,CAAClB,KAAD,CALvC;AAME,MAAA,MAAM,EAAGA,KAAD,IACNmB,UAAU,CAACnB,KAAD,EAAQoB,IAAI,CAACL,GAAb,EAAkBnB,UAAlB,EAA8BC,aAA9B,CAPd;AASE,MAAA,WAAW,EAAGG,KAAD,IAAWsB,eAAe,CAACtB,KAAD,CATzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEoB,IAAI,CAACO,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADF;AAoBD,GArBD,CADD,gBAwBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzBJ,CADF,CApBF,eAkDE,oBAAC,WAAD;AACE,IAAA,MAAM,EAAG3B,KAAD,IACNmB,UAAU,CAACnB,KAAD,EAAQT,KAAK,CAACqB,MAAd,EAAsBhB,UAAtB,EAAkCC,aAAlC,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAC,UADT;AAEE,IAAA,MAAM,EAAE;AAAE,mBAAa;AAAf,KAFV,CAGE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBF;AAoBE,IAAA,WAAW,EAAEJ,OApBf;AAqBE,IAAA,IAAI,EAAE;AAAEJ,MAAAA,MAAM,EAAEA,MAAV;AAAkBD,MAAAA,OAAO,EAAEA;AAA3B,KArBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAlDF,CADF;AAmFD,CAlJD;;AAoJA,SAASF,aAAT","sourcesContent":["import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { DraggableListItem, ListItemButtons } from \"./ListItems\";\nimport { AddDialog } from \"../Dialog.js\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { itemService } from \"../../../services/ItemService\";\n\n// const ListCard = ({ isDraggable, listId, addItem, deleteItem, ...rest }) => {\n//   const onDragOver = (event) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"lightgray\";\n//     // event.currentTarget.style.cursor = \"grabbing\";\n//   };\n//   const onDrop = (event, listId, addItem, deleteItem) => {\n//     event.preventDefault();\n//     event.currentTarget.style.background = \"\";\n//     // event.currentTarget.style.cursor = \"default\";\n//     let itemId = event.dataTransfer.getData(\"item\");\n//     let selectedItem = this.props.items.find((i) => i._id === itemId);\n//     if (listId !== event.target._id) {\n//       //get id of new list\n//       //THIS IS DEFINITELY WRONG--UPDATE WHEN WE GET TO DOING ITEMS\n//       const oldList = { listId: listId, ...selectedItem };\n//       const newList = { listId: event.target._id, ...selectedItem };\n//       addItem(newList);\n//       deleteItem(oldList);\n//     }\n//   };\n//   const onDragLeave = (event) => {\n//     event.currentTarget.style.background = \"\";\n//   };\n//   return isDraggable ? (\n//     <Card\n//       onDragOver={(event) => onDragOver(event)}\n//       onDrop={(event) => onDrop(event, listId, addItem, deleteItem)}\n//       onDragLeave={(event) => onDragLeave(event)}\n//       style={{ height: \"30vw\", width: \"30vw\" }}\n//     >\n//       {rest}\n//     </Card>\n//   ) : (\n//     <Card style={{ height: \"30vw\", width: \"30vw\" }}>{rest}</Card>\n//   );\n// };\n\nconst DraggableList = ({\n  isDraggable,\n  sheetId,\n  listId,\n  header,\n  items,\n  moveItem,\n  addItem,\n  editItem,\n  deleteItem,\n  bottomItem,\n  setBottomItem,\n}) => {\n  let tempBottomItem = 0;\n  const onDragOver = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightgray\";\n    // event.currentTarget.style.cursor = \"grabbing\";\n  };\n\n  const onDrop = (event, listId, items, moveItem, sheetId, bottomItem) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n    // event.currentTarget.style.cursor = \"default\";\n    let itemId = event.dataTransfer.getData(\"item\");\n    console.log(itemId);\n    console.log(bottomItem);\n    // let bottomItem = getBottomItem;\n    let index =\n      bottomItem !== items.length &&\n      bottomItem !== 0 &&\n      items.findIndex((i) => i._id === bottomItem) !== -1\n        ? items.findIndex((i) => i._id === bottomItem)\n        : bottomItem;\n    console.log(index);\n    let body = { listId, index, itemId };\n    moveItem(body, sheetId);\n  };\n\n  const onDragLeave = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  const onDragOverItem = (event) => {\n    event.preventDefault();\n    event.currentTarget.style.background = \"lightblue\";\n  };\n\n  const onDropItem = (event, item, bottomItem, setBottomItem) => {\n    console.log(item);\n    event.preventDefault();\n    event.currentTarget.style.background = \"\";\n    if (item !== bottomItem) {\n      temp = item;\n      setBottomItem(item);\n      console.log(\"set\" + item);\n    }\n  };\n\n  const onDragLeaveItem = (event) => {\n    event.currentTarget.style.background = \"\";\n  };\n\n  return (\n    <Card\n      onDragOver={(event) => onDragOver(event)}\n      onDrop={(event) =>\n        onDrop(event, listId, items, moveItem, sheetId, tempBottomItem)\n      }\n      onDragLeave={(event) => onDragLeave(event)}\n      style={{ height: \"30vw\", width: \"30vw\" }}\n    >\n      {/* // <ListCard\n    //   isDraggable={isDraggable || false}\n    //   listId={listId}\n    //   addItem={addItem}\n    //   deleteItem={deleteItem}\n    // > */}\n      <h4\n        onDrop={(event) => onDropItem(event, 0, bottomItem, setBottomItem)}\n        style={{ margin: \"10px 0px\" }}\n      >\n        {header}\n      </h4>\n      <List>\n        <CardContent>\n          {items && items.length > 0 ? (\n            items.map((item) => {\n              return (\n                <DraggableListItem\n                  key={item._id}\n                  isDraggable\n                  // isDraggable={isDraggable || false}\n                  item={item}\n                  onDragOver={(event) => onDragOverItem(event)}\n                  onDrop={(event) =>\n                    onDropItem(event, item._id, bottomItem, setBottomItem)\n                  }\n                  onDragLeave={(event) => onDragLeaveItem(event)}\n                >\n                  <ListItemText primary={item.name} />\n                  {/* <ListItemButtons\n                    item={item}\n                    editItem={editItem}\n                    deleteItem={deleteItem}\n                  /> */}\n                </DraggableListItem>\n              );\n            })\n          ) : (\n            <li>No items </li>\n          )}\n        </CardContent>\n      </List>\n      <CardActions\n        onDrop={(event) =>\n          onDropItem(event, items.length, bottomItem, setBottomItem)\n        }\n      >\n        <AddDialog\n          header=\"Add Item\"\n          fields={{ \"Item Name\": \"name\" }}\n          // specialFields={[\n          //   (changeFunction) => {\n          //     return (\n          //       <TextField\n          //         margin=\"dense\"\n          //         key=\"Description\"\n          //         id=\"details\"\n          //         label=\"Description\"\n          //         fullWidth\n          //         multiline\n          //         required\n          //         type=\"text\"\n          //         onChange={changeFunction}\n          //       />\n          //     );\n          //   },\n          // ]}\n          addFunction={addItem}\n          body={{ listId: listId, sheetId: sheetId }}\n        />\n      </CardActions>\n      {/* </ListCard> */}\n    </Card>\n  );\n};\n\nexport { DraggableList };\n"]},"metadata":{},"sourceType":"module"}